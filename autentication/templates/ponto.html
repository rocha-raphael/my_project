{% load static %}

<link rel="stylesheet" href="{% static 'css/estilo_ponto.css' %}">

<div class="ponto">
    <h1>Bater Ponto</h1>
    <form action="{% url 'ponto' %}" method="post">{% csrf_token %}

    <label for="nome_usuario">Nome do Usuário:</label>
    <input type="text" id="nome_usuario" name="login_ponto" value='{{ nome_usuario }}' readonly>

    <button onclick="baterPonto()">Bater Ponto</button>
</form>
    <div id="clock"></div>
    <div id="mensagem"></div>

    <script type="text/javascript">
        var nome_usuario = "{{ nome_usuario }}"; // Atribui o valor da variável de template tetste
        var endpoint = "{% url 'ponto' %}";

    </script>
    <script src="{% static 'javascript/ponto.js' %}"></script> 

<script type="text/javascript">
    function baterPonto() {
        // Obtenha o valor do campo de texto
        var nomeUsuario = $("#nome_usuario").val();

        // Faça a requisição AJAX
        $.ajax({
            url: endpoint,  // Substitua '/sua-view-url/' pela URL da sua view Django
            type: 'POST',
            data: {
                'nome_usuario': nomeUsuario,
                'teste': horarioAtual
            },
            success: function(response) {
                // Lide com a resposta da view aqui, se necessário
                console.log(response);
            },
            error: function(error) {
                console.error(error);
            }
        });
    }
    </script>

</div>

